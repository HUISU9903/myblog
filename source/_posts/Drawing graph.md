---
title: "그래프 그리기"
excerpt: "시각화를 위한 그래프를 그리는 법에 대해 알아본다. "
categories: 

- R
tags:
- [R Study]
date: 2022-03-16 10:10:00

---

# 그래프 그리기


데이터의 분석 결과를 문자로 설명하는 것보다 그래프로 시각화를 해서 간략하게 보여주는게 전달성이 더 좋다.  R은 plot() 계통의 함수들을 이용해 그래프를 쉽고 빠르게 그릴 수 있도록 제공하고 있다. 

## R의 그래프 관련 함수

### plot() 함수
    
plot()는 2개의 좌표로 표시된 데이터를 그래프로 그리는 함수이다.  
    
x,y축으로 그려진 평면에 점으로 데이터의 위치를 표현하는 산점도를 표현할 때 주로 이용된다.
    

```r
plot(x,y) # 한 점 그리기
```

```r
x = 1:10
y = x * 2
plot(x,y)   # 복수의 점 그리기
```

### barplot()
    
barplot()는 명목형 변수의 빈도를 막대그래프로 그리는 함수이다.
    
일단 table() 함수로 명목형 변수의 빈도를 구한뒤에 이를 근거로 그래프를 그려야한다.
    

```r
a <- table(데이터세트$변수)
barplot(a)
```

```r
a <- table(데이터세트$변수)
barplot(a,horiz = T)  # 그래프를 가로로 눕힐때 사용
```

### hist()
    
    hist()는 히스토그램을 그리는 함수이다. 히스토그램은 도수 분포도이다.
    
    barplot()과 달리 X축이 연속형 변수이기에 그래프가 붙어있다.
    

```r
hist(데이터세트$변수) 
hist(데이터세트$변수,breaks = 10) # 10개의 구간으로 나눔
hist(데이터세트$변수,breaks = 10,prob = T) # prob = T는 확률밀도를 구해서 그래프를 그린다.
```

```r
hist(데이터세트$변수,breaks = 10,prob = T)
lines(density(데이터세트$변수)) # 확률밀도를 기반으로 하는 추세선을 그린다.
```

### boxplot()
    
    boxplot()은 하위 경계값, 1,2,3사분위, 상위 경계값을 보여주는 함수이다.
    
    ![https://user-images.githubusercontent.com/65166786/159109379-7233a4d6-e7c0-4c83-a6fd-6c61d632531a.png](https://user-images.githubusercontent.com/65166786/159109379-7233a4d6-e7c0-4c83-a6fd-6c61d632531a.png)
    

```
boxplot(데이터세트$변수)$stats # 1개 변수의 통계값
boxplot(데이터세트$변수1, 데이터세트$변수2, ...)$stats # 복수 변수의 통계값
boxplot(데이터세트$종속변수 ~ 데이터세트$범주변수, ...)$stats # 변수의 범주별 통계값
```

## ggplot 그래프

ggplot2는 기본적으로 ggplot() 함수와 geom계열 함수로 구성된다.

ggplot(data = 데이터세트, aes(x= , y = )  + geom함수 형식으로 작성한다.

### gemo 계열 함수의 종류
#### geom_point() 
그래프를 산점도의 형태로 그린다.
#### geom_bar()  
그래프를 막대 그래프의 형태로 그린다.
#### geom_col() 
그래프를 범주별로 막대 그래프의 형태로 그린다.
#### geom_histogram() 
그래프를 히스토그램의 형태로 그린다.
#### geom_density() 
그래프를 커널 밀도 곡선의 형태로 그린다.
#### geom_boxplot()  
그래프를 박스 그래프의 형태로 그린다.
#### geom_line 
그래프를 선 그래프의 형태로 그린다.

### ggplot()를 정교하게 그리기
#### col= 변수    
그래프를 변수별로 분류해서 색칠, 산점도나 선 그래프에 적합하다.
#### fill = 변수 
그래프를 변수별로 분류해서 색칠 , 막대그래프나 히스토그램에 적합하다.
#### reorder() 
그래프를 크기순으로 정렬한다.
#### scale_x_discrete(limits=c()) 
그래프의 순서를 직접 지정한다.
#### coord_flip() 
막대그래프를 90도 회전한다. 
#### xlim(), ylim() 
x축과 y축의 범위 지정한다.
#### ggtitle(), xlab(), ylab() 
그래프와 x,y축에 이름을 붙인다.